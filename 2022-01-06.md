# Dev Log 2022-01-06

## PostGIS in action Day 2

So I did not get far in the book, but I did a little about psql command and how to load data via a CSV.

### Creating the table and looking at the data to be imported

First, I create the staging table to load the data.

```sql
CREATE TABLE ch01.restaurants_staging (
          franchise text, lat double precision, lon double precision);

```

I then looked at the data.  BKG is for burger king, and the other two pieces of data are lat lngs.

```
BKG,25.8092,-80.24
BKG,25.8587,-80.2094
BKG,25.8471,-80.2415
BKG,25.8306,-80.2661
```

### Setting up psql command prompt on mac

I then worked on loading the data into Postgres.  When running the Postgres command psql, you will want to add it to your path.  On Mac, that means going to your .zshrc file and adding this.

```bash
export PATH=/Applications/Postgres.app/Contents/Versions/latest/bin/:$PATH
```

Be sure to source your .zshrc file once your done.

### Command to copy data

Then to run the command to upload the data using this.


```bash
psql -d postgis_in_action -c "\copy ch01.restaurants_staging from 'restaurants.csv' DELIMITER as ','";
```

### What it means

 - -c is for running the command
 - -d is for telling Postgres which database
 - ch01 is the Postgres schema
 - restaurants_staging is the table
 - restaurants.csv is the CSV file
 - DELIMITER is the character used to separate the data; in our case, it's a comma.


